<!DOCTYPE html>
<HTML>

  <head>

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <title>Sprout</title>

    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> -->

    <!-- <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script> -->
    <!-- <script type="text/javascript" src="/account/js/materialize.min.js"></script> -->

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <link rel="icon" href="https://is5-ssl.mzstatic.com/image/thumb/Purple118/v4/ce/a7/4e/cea74eda-88fd-b2c8-3a97-b823547b02db/AppIcon-1x_U007emarketing-85-220-5.png/1200x630bb.jpg">

    <!-- <link type="text/css" rel="stylesheet" href="../css/materialize.min.css"  media="screen,projection"/> -->

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">

    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>

      <!-- style for sliders -->
     <style> 
        .switch {
          position: relative;
          display: inline-block;
          width: 60px;
          height: 34px;
        }

        .switch input {display:none;}

        .slider {
          height:34px;
          position: absolute;
          cursor: pointer;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background-color: #ccc;
          -webkit-transition: .4s;
          transition: .4s;
        }

        .slider:before {
          position: absolute;
          content: "";
          height: 26px;
          width: 26px;
          left: 4px;
          bottom: 4px;
          background-color: white;
          -webkit-transition: .4s;
          transition: .4s;
        }

        input:checked + .slider {
          background-color: #2196F3;
        }

        input:focus + .slider {
          box-shadow: 0 0 1px #2196F3;
        }

        input:checked + .slider:before {
          -webkit-transform: translateX(26px);
          -ms-transform: translateX(26px);
          transform: translateX(26px);
        }

        /* Rounded sliders */
        .slider.round {
          border-radius: 34px;
        }

        .slider.round:before {
          border-radius: 50%;
        }
    </style>

  </head>

  <body>

    <!-- <div name="navigation div">

      <nav class="black" role="navigation">

        <div class="nav-wrapper container">

          <a id="logo-container" href="#" class=" teal-text brand-logo" >Super Monitor</a>

          <ul class="right hide-on-med-and-down">

            

          </ul>

          <ul id="nav-mobile" class="side-nav">

            <li><a href="#">Navbar Link</a></li>

          </ul>

          <a href="#" data-activates="nav-mobile" class="button-collapse"><i class="material-icons">menu</i></a>

        </div>

      </nav>

    </div> -->


  <div id="index-banner" class="parallax-container" style="height: 250px;">
    <div class="section no-pad-bot" >
      
      <div class="container" >
        <br><br>
        <h1 class="header center black-text text-lighten-2" style="font-style:oblique;">Sprout</h1>
        <div class="row center" >
          
        </div>
        
        <br><br>

      </div>
    </div>

    <div class="parallax"><img src="https://i.imgur.com/XsyuyBX.jpg" alt="Unsplashed background img 1"></div> <!-- green forest -->

    <!-- <div class="parallax"><img src="https://i.imgur.com/6w5YDLO.jpg" alt="Unsplashed background img 1"></div> <!-- clouds --> -->

    <!-- <div class="parallax"><img src="https://i.imgur.com/n0dGM6V.jpg" alt="Unsplashed background img 1"></div> -->

    <!-- <div class="parallax"><img src="https://i.pinimg.com/originals/1d/6c/f5/1d6cf581bfb38eec88a3b4c33380f9c2.jpg" alt="Unsplashed background img 1"></div> -->

    

    

  </div>



  	<div class="row">

      <div class="row center">

            <div class="col s3">

              <h5>Bedtime settings</h5>
              
                <table>

                <tr>
                  <th>Option</th>
                  <th>Status</th>
                </tr>

                <tr>
                  <td>Music:</td>
                  <td>
                    <label class="switch">
                      <input id="musicSlider" type="checkbox">
                      <span class="slider round"></span>
                    </label>
                  </td>
                </tr>

                <tr>
                  <td>Light Show:</td>
                  <td>
                    <label class="switch">
                      <input id="lightSlider" type="checkbox">
                      <span class="slider round"></span>
                    </label>
                  </td>  
                </tr>

                <tr>
                  <td>Motion Detection:</td>
                  <td>
                    <label class="switch">
                      <input id="motionSlider" type="checkbox">
                      <span class="slider round"></span>
                    </label>
                  </td>
                </tr>
                
              </table>
             
              <button class="btn" id="startBedtime" onClick="bedtime()">Start Bedtime</button>
              
              <script type="text/javascript">

                

                function bedtime() {

					var starshow = document.getElementById('lightSlider');
					var music = document.getElementById('musicSlider');
					var motion = document.getElementById('motionSlider');

					if (document.getElementById('startBedtime').innerHTML == "Start Bedtime") 
					{
						document.getElementById('startBedtime').innerHTML = "Pause";

						if (starshow.checked == true) 
						{

							document.getElementById('starLights').innerHTML = "Playing";

							$.ajax({
								type:'GET',
								url:'http://10.37.90.113/cgi-bin/lightson.cgi',
								contentType: 'application/json',
								success: function(result){}
							});

							$.ajax({
								type:'GET',
								url:'http://10.37.90.113/cgi-bin/motoron.cgi',
								contentType: 'application/json',
								success: function(result){}
							});
						}

						if (music.checked == true) 
						{

							document.getElementById('musicPlaying').innerHTML = "Playing";

							$.ajax({
								type:'GET',
								url:'http://10.37.90.113/cgi-bin/playSong.cgi',
								contentType: 'application/json',
								success: function(result){}
							});
						}

						 //need to add some logic to the motion script to be able to turn off the other scripts for like a minute if motion is detected and then restart them 

						if (motion.checked == true) {
							$.ajax({
								type:'GET',
								url:'http://10.37.90.113/cgi-bin/piron.cgi',
								contentType: 'application/json',
								success: function(result){}
							});
						}
						return;

					}

					if (document.getElementById('startBedtime').innerHTML == "Pause")
					{
						document.getElementById('startBedtime').innerHTML = "Start Bedtime"

						// turn off all the scripts

						$.ajax({
							type:'GET',
							url:'http://10.37.90.113/cgi-bin/lightsoff.cgi',
							contentType: 'application/json',
							success: function(result){}
						});

						$.ajax({
							type:'GET',
							url:'http://10.37.90.113/cgi-bin/motoroff.cgi',
							contentType: 'application/json',
							success: function(result){}
						});

						$.ajax({
							type:'GET',
							url:'http://10.37.90.113/cgi-bin/piroff.cgi',
							contentType: 'application/json',
							success: function(result){}
						});

						$.ajax({
							type:'GET',
							url:'http://10.37.90.113/cgi-bin/muteMusic.cgi',
							contentType: 'application/json',
							success: function(result){}
						});

						// change the text of current room status

						document.getElementById('starLights').innerHTML = "Not Playing";

						document.getElementById('musicPlaying').innerHTML = "Not Playing";

						return;

					}

				} 


              </script>


              <br> <br>
              

              <!-- <button class="btn" onClick="vid()">Pause</button> -->
              <!-- js that changes the text of the button when it is clicked so that it changes to resume - is this part necessary? -->

              
              
              <script>
                function counter() {
                  $.ajax({
                  type:'GET',
                  url:'http://10.10.110.137/cgi-bin/counter.cgi?value=True',
                  contentType: 'applicatin/json',
                  success: function(result){}
                  });
                  $.ajax({
                  type:'GET',
                  url:'http://10.10.110.137/cgi-bin/counter.cgi?value=True',
                  contentType: 'applicatin/json',
                  success: function(result){}
                  });
                }
              </script>

                  <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
              
            </div>
            

          
            <div class="col s6">



              <h5>Camera Feed and Room Audio</h5>

              <!-- This script will start the video feed server when the page loads -->
             <!--  <script>
                   $(document).ready(function(){
                            $.ajax({
                            type:'GET',
                            url:'http://10.10.90.113/cgi-bin/startCam.cgi',
                            contentType: 'application/json',
                            success: function(result){}
                            });    
                   }
               </script>  -->

               <!-- or we can start it just with a click -->
              
              <!-- <button class="btn" id="cameraButton" onClick="videoCamera()">Turn on Camera Feed</button> -->
              <br><br>

              <!-- <button class="btn"  onClick="vidOFF()">vifof</button> -->
             
              <script>

              	function vidOFF() {
              		$.ajax({
					type:'GET',
					url:'http://10.37.90.113/cgi-bin/stopCam.cgi',
					contentType: 'application/json',
					success: function(result){}
					});
              	}

                
				function videoCamera() {

		                if (document.getElementById('cameraButton').innerHTML == "Turn on Camera Feed") {
		                	document.getElementById('cameraButton').innerHTML = "Turn off Camera Feed";

		                	// document.getElementById('vidfeed').width = 660;

		                	// document.getElementById('vidfeed').height = 500;

		                	$.ajax({
							type:'GET',
							url:'http://10.37.90.113/cgi-bin/startCam.cgi',
							contentType: 'application/json',
							success: function(result){}
							});
		                } else {
		                	document.getElementById('cameraButton').innerHTML = "Turn on Camera Feed";

		                	// document.getElementById('vidfeed').width = 0;

		                	// document.getElementById('vidfeed').height = 0;

		                	$.ajax({
							type:'GET',
							url:'http://10.37.90.113/cgi-bin/stopCam.cgi',
							contentType: 'application/json',
							success: function(result){}
		                	});
		                }
              	}
              </script>

              <iframe id="vidfeed" width="660" height="500" src="http://10.37.90.113:9001/stream_simple.html" frameborder="1" allowfullscreen></iframe>
              
              <br>


              <h5>Audio</h5>


              <audio controls>
                <source src="http://10.37.90.113:8000/raspi" >
                <!-- <source src="horse.mp3" type="audio/mpeg"> -->
              Your browser does not support the audio element.
              </audio>
              <!-- This script will? do we want something to only be going when we tell it? might make the parents feel better -->
              
              

              <div id="wow"></div>
                      
              


            </div>
      
            <div class="col s3">
              
              
              
              

              <h5 class="center">Current room conditions</h5>

             <table>
                <tr>
                  <th>Measure</th>
                  <th>Status</th>
                  
                </tr>
                <tr>
                  <td>Temperature:</td>
                  <td id="temp" >72</td>
                  
                </tr>
                <tr>
                  <td>Humidity:</td>
                  <td id="humidity" >14%</td>
                  
                </tr>
                
                <tr>
                  <td>Music Playing:</td>
                  <td id="musicPlaying">Yes</td>
                  
                </tr>
                <tr>
                  <td>Star Show: </td>
                  <td id="starLights" >Not Playing</td>
                  
                </tr>
                
              </table>

              <button class="btn" id="" onClick="dhton()"> Refresh status </button>

              <br>

       
              
            </div>
            
        </div>
  			
    </div>	

	    
	

  	

    <div class="parallax-container">
      <div class="section no-pad-bot">
        <div class="container">
          <div class="row center">
            <h5 class="header col s12 light"></h5>
          </div>
        </div>
      </div>
      <div class="parallax"><img src="https://i.imgur.com/35Lun7R.jpg" alt="Unsplashed background img 3"></div>
    </div>

  

  




  

    <script>
      
      (function($){
        $(function(){

          $('.button-collapse').sideNav();
          $('.parallax').parallax();

        }); // end of document ready
      })(jQuery); // end of jQuery name space

    </script>

  </body>

</HTML>
